# == Class: bashrc
#
#This class manages the bashrc additions.
#
#Please see the README.md for
class bashrc(
  $bashrcdir              = $bashrc::params::bashrcdir,
  $etcbashfile            = $bashrc::params::etcbashfile,
  $puppetdir              = $settings::confdir,
  $skelfile               = $bashrc::params::skelfile,
  )inherits bashrc::params {
  #input validation

  validate_absolute_path($bashrcdir)
  validate_absolute_path($etcbashfile)
  validate_absolute_path($skelfile)

  anchor{'bashrc::begin':}
  -> anchor {'bashrc::config::begin':}
  -> anchor {'bashrc::config::end':}
  -> anchor {'bashrc::end':}

  case $::osfamily {
  'Solaris':           { include bashrc::setup } # Apply the solaris class
  'RedHat', 'CentOS':  { include bashrc::setup  } # Apply the redhat class

  'Debian': {
    if $::hostname =~ /viep/ {
        notice("Welcome to production server.")
        include bashrc::setup
    }
  } # Apply the debian class

  default:             { notice "There is not currently a bashrc module for ${::osfamily}" } # Apply the generic class
  }




}
